## 概述
zabbix由Server和Agent组成
server端由mysql+Web服务器组成，zabbix会把收集到的数据保存到mysql中，web服务器用来管理zabbix和查看监控项

agent端运行在所有被监控主机上

在zabbix中，经常用到的大功能有 监控、资产管理、报表、配置和管理员

监控中涉及的功能有：图形（自带和自己绘制）、screen、map架构图、告警

## 自定义监控项

1. 添加用户自定义参数
vim /etc/zabbix/zabbix_agentd.d/nginx.conf

UserParamer=nginx.active,/usr/bin/curl -s "http://192.168.56.11:8080/nginx-status" |grep "Active" |awk '{print $NF}'

2. 重启zabbix-agent

3. 在server端使用zabbix_get测试获取
zabbix_get -s 192.168.56.11 -p 10050 -k "nginx.active"

4. 在web界面创建item
```bash
# 监控项的名字
Name：nginx.active
# 被监控类型
Type: Zabbix agent
# 选择自定义的key
Key: nginx.active
# 被监控主机地址
Host interface: 192.68.56.11:10050
# 数值类型
Type of information: Unmeric(unsigned)
# 进制
Data Type:Decimal
# 单位转换
Units: 
# 更新时间间隔
Update interval(in sec)：60
# 自定义时间间隔 0点到6点每300秒更新一次
Custom interval: 300 1-7 00:00-06:00
# 历史数据保留时间
History storage period(in days)：90
# 趋势图数据保留时间
Trend storage period：365
# 监控项的组
Application：nginx
# 描述
Description:Nginx活动连接数
```
5. 创建Graphs
Configuration -> Hosts -> \[hostname\] -> Graphs -> create graph

```bash
# 图形名称
Name: nginx活动连接数
# 宽度
Width：900
# 高度
Height：200
# 图形类型
Graph type：Normal
# 添加item
items: nginx.active
```
## 监控

### Screens
